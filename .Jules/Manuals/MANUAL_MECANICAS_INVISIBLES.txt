üëª MEC√ÅNICAS INVISIBLES (THE GHOST MECHANICS)
Los engranajes silenciosos que giran en las sombras. Procesos aut√≥nomos que protegen tu autor√≠a y tu cordura.

--------------------------------------------------------------------------------
1. AUDITOR√çA CREATIVA (Creative Audit)
La Promesa: La prueba irrefutable de tu humanidad. Un notario digital que registra cada acto de creaci√≥n, asegurando que t√∫ eres el due√±o legal de la obra, no la IA.

Mec√°nica Sagrada (C√≥mo funciona):
1. Registro Pasivo: No tienes que hacer nada. El sistema observa en silencio.
2. Eventos Registrados:
    ‚ó¶ Inyecci√≥n: Cuando escribes manualmente o editas un texto.
    ‚ó¶ Curaci√≥n: Cuando aceptas o rechazas una sugerencia de la IA.
    ‚ó¶ Estructura: Cuando creas o mueves un archivo/nodo.
3. El Certificado: En la Imprenta, puedes descargar un "Certificado de Autor√≠a" (PDF o TXT). Este documento es un log forense con fechas y hashes que demuestra la trazabilidad de tu esfuerzo.

La Magia Oculta (Lo T√©cnico): El servicio CreativeAuditService.ts act√∫a como una "Caja Negra".
‚Ä¢ Inmutabilidad: Escribe en una subcolecci√≥n de Firestore (audit_log) con reglas de seguridad que permiten crear pero jam√°s editar o borrar registros.
‚Ä¢ Firma de Tiempo: Usa serverTimestamp() de Firebase para garantizar que la fecha es real y no manipulada por el reloj de tu ordenador.

Advertencias:
‚Ä¢ ‚ö†Ô∏è Privacidad: El log contiene fragmentos de tus prompts y ediciones. Es privado para ti, pero si compartes el certificado, estar√°s compartiendo esa metainformaci√≥n.

--------------------------------------------------------------------------------
2. EL ESCRIBA (Auto-Save)
La Promesa: Jam√°s perder√°s una palabra. Un salvavidas que atrapa tus pensamientos antes de que se desvanezcan en el √©ter de un fallo t√©cnico.

Mec√°nica Sagrada (C√≥mo funciona):
1. Latido: Cada vez que dejas de escribir por 2 segundos, el Escriba despierta.
2. Guardado Silencioso: Sube los cambios a Google Drive sin interrumpirte. Ver√°s un sutil indicador en la interfaz.
3. Detecci√≥n de Cambios: Si cierras la pesta√±a antes de tiempo, el navegador te gritar√° una advertencia.

La Magia Oculta (Lo T√©cnico): En App.tsx, un efecto (useEffect) con debounce de 2000ms vigila la variable selectedFileContent.
‚Ä¢ Edici√≥n Significativa: Calcula la diferencia de caracteres (Math.abs(diff) > 50). Si has escrito un p√°rrafo entero, marca el guardado como isSignificant: true.
‚Ä¢ Trigger de Indexado: Los guardados "significativos" actualizan el timestamp lastSignificantUpdate en tu configuraci√≥n, alertando al Director de que debe "re-aprender" el texto pronto.

Advertencias:
‚Ä¢ ‚ö†Ô∏è Conflictos: Si tienes el mismo archivo abierto en dos pesta√±as, ganar√° la √∫ltima que guarde ("Last Write Wins"). No lo hagas.

--------------------------------------------------------------------------------
3. SINCRONIZACI√ìN NEURONAL (Neuronal Sync)
La Promesa: La memoria viva. El proceso que transforma archivos de texto inertes en conocimiento l√≠quido para la Inteligencia Artificial.

Mec√°nica Sagrada (C√≥mo funciona):
1. Escucha: El sistema vigila tu carpeta de Drive.
2. Aprendizaje: Cuando guardas, la IA no solo almacena el archivo; lo "lee" y extrae conceptos, personajes y relaciones.
3. Vectorizaci√≥n: Convierte el texto en n√∫meros (vectores) que permiten al Director buscar por significado, no solo por palabras clave.

La Magia Oculta (Lo T√©cnico): Gestionado por ProjectConfigContext.tsx y la Cloud Function indexTDB.
‚Ä¢ Listener en Tiempo Real: El frontend se suscribe a TDB_Index/{uid}/structure/tree via onSnapshot. Cualquier cambio en el backend se refleja instant√°neamente en tu √°rbol de archivos local.
‚Ä¢ Indexado Incremental: No re-lee todo el proyecto cada vez. Solo procesa los archivos cuyo hash ha cambiado, ahorrando costes y tiempo.

Advertencias:
‚Ä¢ ‚ö†Ô∏è Coste Cognitivo: Si pegas 50 archivos de golpe en Drive, la sincronizaci√≥n puede tardar unos minutos. S√© paciente mientras la IA digiere el banquete.
